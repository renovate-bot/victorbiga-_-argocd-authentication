#apiVersion: argoproj.io/v1alpha1
#kind: Application
#metadata:
#  annotations:
#    argocd.argoproj.io/sync-wave: "3"
#  name: nginx-ingress
#  namespace: argocd
#  labels:
#    name: nginx-ingress
#spec:
#  project: authentication
#  sources:
#  - repoURL: https://helm.nginx.com/stable
#    targetRevision: 0.18.0
#    chart: nginx-ingress
#    helm:
#      valueFiles:
#      - $values/auth/values/nginx-ingress/values.yaml
#  - repoURL: https://github.com/victorbiga/argocd-authentication.git
#    targetRevision: master
#    ref: values
##  - repoURL: https://github.com/victorbiga/argocd-authentication.git
##    targetRevision: master
##    path: auth/values/nginx-ingress/templates
#  destination:
#    server: https://kubernetes.default.svc
#    namespace: nginx-ingress
#  info:
#    - name: 'Example:'
#      value: 'https://example.com'
#  syncPolicy:
#    automated:
#      prune: true
#      selfHeal: true
#      allowEmpty: false
#    syncOptions:
#      - Validate=true
#      - CreateNamespace=true
#      - PrunePropagationPolicy=foreground
#      - PruneLast=true
#      - RespectIgnoreDifferences=true
#    retry:
#      limit: 5
#      backoff:
#        duration: 5s
#        factor: 2
#        maxDuration: 3m
#  revisionHistoryLimit: 1